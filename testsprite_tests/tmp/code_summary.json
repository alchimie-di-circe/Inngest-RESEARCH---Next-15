{
  "tech_stack": [
    "TypeScript",
    "Next.js 15",
    "React 19",
    "Inngest (Event Orchestration)",
    "Prisma ORM",
    "Neon (PostgreSQL)",
    "Zod (Validation)",
    "Jest (Unit Testing)",
    "Playwright (E2E Testing)",
    "React Hook Form",
    "Tailwind CSS"
  ],
  "features": [
    {
      "name": "Brand Configuration Management API",
      "description": "CRUD endpoints for managing brand profiles including tone of voice, colors, and platform history",
      "files": [
        "src/app/api/brand/route.ts",
        "src/app/api/brand/[id]/route.ts",
        "src/types/brand.ts"
      ],
      "api_doc": {
        "endpoints": [
          {
            "path": "/api/brand",
            "method": "GET",
            "description": "List all brand configurations"
          },
          {
            "path": "/api/brand",
            "method": "POST",
            "description": "Create new brand configuration",
            "requestBody": {
              "type": "object",
              "properties": {
                "name": { "type": "string" },
                "tovGuidelines": { "type": "string" },
                "brandColors": { "type": "object" },
                "logoUrl": { "type": "string" }
              }
            }
          },
          {
            "path": "/api/brand/{id}",
            "method": "GET",
            "description": "Get single brand configuration"
          },
          {
            "path": "/api/brand/{id}",
            "method": "PUT",
            "description": "Update brand configuration"
          },
          {
            "path": "/api/brand/{id}",
            "method": "DELETE",
            "description": "Delete brand configuration"
          }
        ]
      }
    },
    {
      "name": "Research Job Management API",
      "description": "CRUD endpoints for research jobs with Inngest event triggering",
      "files": [
        "src/app/api/research/route.ts",
        "src/app/api/research/[id]/route.ts",
        "src/app/api/research/[id]/status/route.ts",
        "src/types/api.ts"
      ],
      "api_doc": {
        "endpoints": [
          {
            "path": "/api/research",
            "method": "GET",
            "description": "List research jobs with filtering"
          },
          {
            "path": "/api/research",
            "method": "POST",
            "description": "Create research job and trigger Inngest event"
          },
          {
            "path": "/api/research/{id}",
            "method": "GET",
            "description": "Get research job details"
          },
          {
            "path": "/api/research/{id}/status",
            "method": "GET",
            "description": "Poll job status (lightweight endpoint)"
          }
        ]
      }
    },
    {
      "name": "Content Management API",
      "description": "CRUD endpoints for content items generated by agents",
      "files": [
        "src/app/api/content/route.ts",
        "src/types/api.ts"
      ],
      "api_doc": {
        "endpoints": [
          {
            "path": "/api/content",
            "method": "GET",
            "description": "List content items"
          },
          {
            "path": "/api/content",
            "method": "POST",
            "description": "Create content item"
          }
        ]
      }
    },
    {
      "name": "Publishing Queue API",
      "description": "CRUD endpoints for publishing queue with retry logic",
      "files": [
        "src/app/api/publishing/route.ts",
        "src/types/api.ts"
      ],
      "api_doc": {
        "endpoints": [
          {
            "path": "/api/publishing",
            "method": "GET",
            "description": "List publishing queue items"
          },
          {
            "path": "/api/publishing",
            "method": "POST",
            "description": "Create publishing queue item"
          }
        ]
      }
    },
    {
      "name": "TypeScript Type Definitions & Inngest Schemas",
      "description": "Unified type system with Zod validation for all domain models",
      "files": [
        "src/types/research.ts",
        "src/types/content.ts",
        "src/types/events.ts",
        "src/types/db.ts",
        "src/inngest/client.ts"
      ],
      "api_doc": {
        "schemas": [
          {
            "name": "DeepResearchRequestSchema",
            "description": "Validates deep research event payloads",
            "properties": ["topic", "depth", "breadth", "userId", "sessionId"]
          },
          {
            "name": "CreateBrandSchema",
            "description": "Validates brand creation requests",
            "properties": ["name", "tovGuidelines", "brandColors", "logoUrl"]
          }
        ]
      }
    },
    {
      "name": "Testing Infrastructure",
      "description": "Jest configuration with mocks and fixtures for isolated testing",
      "files": [
        "jest.config.js",
        "tests/setup/mock-prisma.ts",
        "tests/setup/mock-inngest.ts",
        "tests/fixtures/brands.ts",
        "playwright.config.ts"
      ],
      "api_doc": {
        "test_utilities": [
          {
            "name": "prismaMock",
            "description": "Mocked Prisma Client for database testing"
          },
          {
            "name": "createMockStep",
            "description": "Factory for mocking Inngest step functions"
          },
          {
            "name": "Fixtures",
            "description": "Pre-built test data for brands, research, content"
          }
        ]
      }
    },
    {
      "name": "Deep Research Agent Orchestrator",
      "description": "Inngest function orchestrating multi-step research workflow with checkpointing and realtime updates",
      "files": [
        "src/inngest/functions/orchestrator.ts",
        "src/inngest/functions/gather-context.ts",
        "src/inngest/channels.ts"
      ],
      "api_doc": {
        "functions": [
          {
            "name": "deep.research.requested",
            "description": "Event trigger for deep research orchestrator",
            "capabilities": ["checkpointing", "realtime_streaming", "job_persistence"]
          },
          {
            "name": "gather-context",
            "description": "Sub-function for collecting research context with depth/breadth parameters"
          }
        ]
      }
    }
  ]
}
